{"version":3,"sources":["webpack:///delegated ./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js from dll-reference vendor_3bc019d2463213d3d3b7","webpack:///./.my/code/mixin/user.js","webpack:///./src/views/_login.vue?3cd8","webpack:///src/views/_login.vue","webpack:///./src/views/_login.vue?6705","webpack:///./src/views/_login.vue","webpack:///./src/views/_login.vue?37c7"],"names":["module","exports","__webpack_require__","data","user","list","page","limit","total","model","methods","fetchUser","options","then","res","Number","parseInt","getUser","id","Object","assign","addUser","index","undefined","splice","push","updateUser","removeUser","batchUser","indexes","length","filter","item","includes","login","logout","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","logo","loginHandler","on","handleSuccess","slot","_v","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-0526d007.784c4de0.js","sourcesContent":["module.exports = (__webpack_require__(\"02bd\"))(93);","/**\n *  user mixin module\n *  @module $my/code/mixin/user\n *  @author coder\n */\nimport {\n  fetchUser,\n  getUser,\n  addUser,\n  updateUser,\n  removeUser,\n  batchUser,\n  login,\n  logout\n} from '$my/code/api/user'\n\n// mixin\nexport default {\n\n  /**\n   * user数据存储载体对象\n   * @member user\n   * @property {Array} [list=\\[\\]] 获取user列表响应数据\n   * @property {number} [page=null] 获取user列表响应页码\n   * @property {number} [limit=null] 获取user列表页大小，每页记录条数\n   * @property {number} [total=0] 获取user列表数据记录总条数\n   * @property {object} [model=null] 获取user单条记录\n   */\n  data() {\n    return {\n      user: {\n        list: [],\n        page: null,\n        limit: null,\n        total: 0,\n        model: null\n      }\n    }\n  },\n  methods: {\n\n    /**\n     * 获取user列表\n     * @function fetchUser\n     * @param {object} data 请求发送的数据data\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    fetchUser({\n      data,\n      options\n    } = {}) {\n      return fetchUser(data, options).then(res => {\n        this.user.list = res.list || []\n        this.user.page = Number.parseInt(res.page) || 0\n        this.user.limit = Number.parseInt(res.limit) || 0\n        this.user.total = Number.parseInt(res.total) || 0\n        return res\n      })\n    },\n    /**\n     * 获取user单条记录\n     * @function getUser\n     * @param {string|number} id 请求URL路径参数id数据\n     * @param {object} data 请求发送的数据data\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    getUser({\n      id,\n      data,\n      options\n    } = {}) {\n      return getUser(id, data, options).then(res => {\n        this.user.model = Object.assign({}, data, res || {})\n        return res\n      })\n    },\n    /**\n     * 新增user\n     * @function addUser\n     * @param {object} data 请求发送的数据data\n     * @param {number} [index] 新增到列表的位置索引，默认最近到列表最后\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    addUser({\n      data,\n      index,\n      options\n    } = {}) {\n      return addUser(data, index, options).then(res => {\n        const model = Object.assign({}, data, res || {})\n        const list = [...this.user.list]\n        if (index !== undefined) {\n          list.splice(index, 0, model)\n        } else {\n          list.push(model);\n        }\n        this.user.list = list\n        this.user.total += 1;\n        return res\n      })\n    },\n    /**\n     * 更新user\n     * @function updateUser\n     * @param {object} data 请求发送的数据data\n     * @param {number} [index] 源实体在列表的位置索引，如没有index，即不更新实体在源列表数据\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    updateUser({\n      data,\n      index,\n      options\n    } = {}) {\n      return updateUser(data, index, options).then(res => {\n        const model = Object.assign({}, data, res || {})\n        const list = [...this.user.list]\n        if (index !== undefined) {\n          list.splice(index, 1, model)\n        }\n        this.user.list = list\n        return res\n      })\n    },\n    /**\n     * 删除user\n     * @function removeUser\n     * @param {string|number} id 请求URL路径参数id数据\n     * @param {object} data 请求发送的数据data\n     * @param {number} [index] 源实体在列表的位置索引，如没有index，即不删除实体在源列表数据\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    removeUser({\n      id,\n      data,\n      index,\n      options\n    } = {}) {\n      return removeUser(id, data, options).then(res => {\n        const list = [...this.user.list]\n        if (index !== undefined) {\n          list.splice(index, 1)\n        }\n        this.user.list = list\n        this.user.total -= 1;\n        return res\n      })\n    },\n    /**\n     * 批量删除user\n     * @function batchUser\n     * @param {object} data 请求发送的数据data\n     * @param {number[]} [indexes] 源实体在列表的位置索引，如没有indexes，即不删除实体在源列表数据\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    batchUser({\n      data,\n      indexes = [],\n      options\n    } = {}) {\n      return batchUser(data, options).then(res => {\n        if (indexes.length > 0) {\n          this.user.list = this.user.list.filter((item, index) => !indexes.includes(index))\n        }\n        this.user.total -= indexes.length;\n        return res\n      })\n    },\n    /**\n     * user LOGIN\n     * @function login\n     * @param {object} data 请求发送的数据data\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    login({\n      data,\n      options\n    } = {}) {\n      return login(data, options).then(res => {\n        return res\n      })\n    },\n    /**\n     * user LOGOUT\n     * @function logout\n     * @param {object} data 请求发送的数据data\n     * @param {object} [options] ajax参数选项\n     * @returns {Promise} Promise实例\n     */\n    logout({\n      data,\n      options\n    } = {}) {\n      return logout(data, options).then(res => {\n        return res\n      })\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg\"},[_c('my-login',{attrs:{\"logo\":_vm.logo,\"title\":\"MyUI演示系统\",\"center\":\"\",\"login\":_vm.loginHandler},on:{\"success\":_vm.handleSuccess}},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_vm._v(\" 账号：admin / user / guest \"),_c('br'),_vm._v(\" 密码： 123456 \")])]),_c('Wave',{attrs:{\"width\":\"100%\",\"height\":\"100%\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n  <template>\r\n  <div class=\"bg\">\r\n    <my-login :logo=\"logo\"\r\n              title=\"MyUI演示系统\"\r\n              center\r\n              :login=\"loginHandler\"\r\n              @success=\"handleSuccess\">\r\n      <div slot=\"footer\">\r\n        账号：admin / user / guest <br>\r\n        密码： 123456\r\n      </div>\r\n    </my-login>\r\n    <Wave width=\"100%\" height=\"100%\"></Wave>\r\n  </div>\r\n</template>\r\n\r\n<script>\n  \n     import __vue__ from 'vue';\n     \n     import {MyLogin as __MyLogin__} from '$ui';\n     \n     \n     \n     import logo from '$ui/assets/logo.png'\r\n  import skin from '$ui/utils/skin'\r\n  import user from '$my/code/mixin/user'\r\n\r\n  export default {\r\n    mixins: [skin(), user],\r\n    components: {\r\n      Wave: () => import('$ui/components/my-wave')\r\n    },\r\n    props: {\r\n      logo: {\r\n        type: String,\r\n        default: logo\r\n      },\r\n      // url查询参数名称\r\n      urlQueryName: {\r\n        type: String,\r\n        default: 'url'\r\n      },\r\n      // 默认登录成功跳转页面地址\r\n      defaultUrl: {\r\n        type: String,\r\n        default: '/'\r\n      }\r\n    },\r\n    methods: {\r\n      loginHandler({account, password}) {\r\n        return this.login({\r\n          data: {\r\n            account,\r\n            password\r\n          }\r\n        })\r\n      },\r\n      handleSuccess(res) {\r\n        // 在此记录登录信息和跳转\r\n        if (!this.$access) return\r\n        this.$access.login(res)\r\n        this.redirect()\r\n      },\r\n      isSelf(url) {\r\n        const {fullPath, path} = this.$route\r\n        return url === fullPath || url === path || url === window.location.href\r\n      },\r\n      redirect() {\r\n        const redirectUrl = this.$route.query[this.urlQueryName] || this.defaultUrl\r\n        const path = decodeURIComponent(redirectUrl)\r\n        // 如果准备要跳转的地址就是页面本身，不需要处理\r\n        if (this.isSelf(path)) return\r\n        const regex = /^http(s)?:\\/\\/.+/\r\n        if (regex.test(path)) {\r\n          window.location.href = path\r\n        } else {\r\n          this.$router.push(path)\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      // 如果已经是登录状态，跳转到首页或指定页面\r\n      if (this.$access && this.$access.isLogin()) {\r\n        this.redirect()\r\n      }\r\n    }\r\n  }\n     \n     __vue__.use(__MyLogin__)\n    \n  </script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .bg {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100vh;\r\n    background: url(\"~$ui/assets/bg/01.jpg\") center center;\r\n  }\r\n\r\n  .my-login {\r\n    z-index: 3;\r\n  }\r\n\r\n  .my-wave {\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n  }\r\n</style>\r\n\n  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@xdh/my/core/loaders/component-loader.js??ref--0-2!./_login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@xdh/my/core/loaders/component-loader.js??ref--0-2!./_login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_login.vue?vue&type=template&id=e92f680c&scoped=true&\"\nimport script from \"./_login.vue?vue&type=script&lang=js&\"\nexport * from \"./_login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./_login.vue?vue&type=style&index=0&id=e92f680c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e92f680c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@xdh/my/core/loaders/component-loader.js??ref--0-2!./_login.vue?vue&type=style&index=0&id=e92f680c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@xdh/my/core/loaders/component-loader.js??ref--0-2!./_login.vue?vue&type=style&index=0&id=e92f680c&lang=scss&scoped=true&\""],"sourceRoot":""}